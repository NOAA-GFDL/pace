#!/usr/bin/env python3

import numpy as np
import xarray as xr


"""
This notebook uses the python xarray module
to create an eta_file containg
ak and bk coefficients for km=79
"""

# Assign ak data
ak = np.array(
    [
        3.000000e02,
        6.467159e02,
        1.045222e03,
        1.469188e03,
        1.897829e03,
        2.325385e03,
        2.754396e03,
        3.191294e03,
        3.648332e03,
        4.135675e03,
        4.668282e03,
        5.247940e03,
        5.876271e03,
        6.554716e03,
        7.284521e03,
        8.066738e03,
        8.902188e03,
        9.791482e03,
        1.073499e04,
        1.162625e04,
        1.237212e04,
        1.299041e04,
        1.349629e04,
        1.390277e04,
        1.422098e04,
        1.446058e04,
        1.462993e04,
        1.473633e04,
        1.478617e04,
        1.478511e04,
        1.473812e04,
        1.464966e04,
        1.452370e04,
        1.436382e04,
        1.417324e04,
        1.395491e04,
        1.371148e04,
        1.344540e04,
        1.315890e04,
        1.285407e04,
        1.253280e04,
        1.219685e04,
        1.184788e04,
        1.148739e04,
        1.111682e04,
        1.073748e04,
        1.035062e04,
        9.957395e03,
        9.558875e03,
        9.156069e03,
        8.749922e03,
        8.341315e03,
        7.931065e03,
        7.519942e03,
        7.108648e03,
        6.698281e03,
        6.290007e03,
        5.884984e03,
        5.484372e03,
        5.089319e03,
        4.700960e03,
        4.320421e03,
        3.948807e03,
        3.587201e03,
        3.236666e03,
        2.898237e03,
        2.572912e03,
        2.261667e03,
        1.965424e03,
        1.685079e03,
        1.421479e03,
        1.175419e03,
        9.476516e02,
        7.388688e02,
        5.497130e02,
        3.807626e02,
        2.325417e02,
        1.054810e02,
        -8.381903e-04,
        0.000000e00,
    ]
)

# Assign bk data
bk = np.array(
    [
        0.0,
        0.0,
        0.0,
        0.0,
        0.0,
        0.0,
        0.0,
        0.0,
        0.0,
        0.0,
        0.0,
        0.0,
        0.0,
        0.0,
        0.0,
        0.0,
        0.0,
        0.0,
        0.0,
        0.00106595,
        0.00412866,
        0.00900663,
        0.01554263,
        0.02359921,
        0.03305481,
        0.0438012,
        0.05574095,
        0.06878554,
        0.08285347,
        0.09786981,
        0.1137643,
        0.130471,
        0.1479275,
        0.1660746,
        0.1848558,
        0.2042166,
        0.2241053,
        0.2444716,
        0.2652672,
        0.286445,
        0.3079604,
        0.3297701,
        0.351832,
        0.3741062,
        0.3965532,
        0.4191364,
        0.4418194,
        0.4645682,
        0.48735,
        0.5101338,
        0.5328897,
        0.5555894,
        0.5782067,
        0.6007158,
        0.6230936,
        0.6452944,
        0.6672683,
        0.6889648,
        0.7103333,
        0.7313231,
        0.7518838,
        0.7719651,
        0.7915173,
        0.8104913,
        0.828839,
        0.846513,
        0.8634676,
        0.8796583,
        0.8950421,
        0.9095779,
        0.9232264,
        0.9359506,
        0.9477157,
        0.9584892,
        0.9682413,
        0.9769447,
        0.9845753,
        0.9911126,
        0.9965372,
        1.0,
    ]
)


# Create a Dataset instance
coefficients = xr.Dataset({"ak": (["km1"], ak), "bk": (["km1"], bk)})

# Set attributes for each variable
coefficients["ak"].attrs["units"] = ""
coefficients["bk"].attrs["units"] = ""

# Write netcdf file
coefficients.to_netcdf("eta79.nc")
